{
	"$schema": "node_modules/wrangler/config-schema.json",
	"account_id": "YOUR_CLOUDFLARE_ACCOUNT_ID",
	"name": "riverbank",
	"main": "./worker/index.ts",
	"compatibility_date": "2026-02-20",
	"observability": {
		"enabled": true
	},
	"upload_source_maps": true,
	"assets": {
		"directory": "./dist/client",
		"not_found_handling": "single-page-application"
	},
	"d1_databases": [
		{
			"binding": "DB",
			"database_name": "riverbank-db-dev",
			"database_id": "YOUR_DEV_DATABASE_ID",
			"migrations_table": "_migrations",
			"migrations_dir": "migrations"
		}
	],
	"ai": {
		"binding": "AI"
	},
	"unsafe": {
		"bindings": [
			{
				"name": "THROW_RATE_LIMITER",
				"type": "ratelimit",
				"namespace_id": "1001",
				"simple": { "limit": 5, "period": 60 }
			},
			{
				"name": "ACTION_RATE_LIMITER",
				"type": "ratelimit",
				"namespace_id": "1002",
				"simple": { "limit": 20, "period": 60 }
			},
			{
				"name": "FALSE_POSITIVE_RATE_LIMITER",
				"type": "ratelimit",
				"namespace_id": "1003",
				"simple": { "limit": 5, "period": 60 }
			}
		]
	},
	"workers_dev": true,
	"vars": {
		"ENVIRONMENT": "development"
	},
	"env": {
		"uat": {
			"name": "uat-riverbank",
			"vars": {
				"ENVIRONMENT": "uat"
			},
			"unsafe": {
				"bindings": [
					{
						"name": "THROW_RATE_LIMITER",
						"type": "ratelimit",
						"namespace_id": "1001",
						"simple": { "limit": 5, "period": 60 }
					},
					{
						"name": "ACTION_RATE_LIMITER",
						"type": "ratelimit",
						"namespace_id": "1002",
						"simple": { "limit": 20, "period": 60 }
					},
					{
						"name": "FALSE_POSITIVE_RATE_LIMITER",
						"type": "ratelimit",
						"namespace_id": "1003",
						"simple": { "limit": 5, "period": 60 }
					}
				]
			},
			"d1_databases": [
				{
					"binding": "DB",
					"database_name": "riverbank-db-uat",
					"database_id": "YOUR_UAT_DATABASE_ID",
					"migrations_table": "_migrations",
					"migrations_dir": "migrations"
				}
			],
			"ai": {
				"binding": "AI"
			}
		},
		"pro": {
			"name": "riverbank",
			"vars": {
				"ENVIRONMENT": "production"
			},
			"unsafe": {
				"bindings": [
					{
						"name": "THROW_RATE_LIMITER",
						"type": "ratelimit",
						"namespace_id": "1001",
						"simple": { "limit": 5, "period": 60 }
					},
					{
						"name": "ACTION_RATE_LIMITER",
						"type": "ratelimit",
						"namespace_id": "1002",
						"simple": { "limit": 20, "period": 60 }
					},
					{
						"name": "FALSE_POSITIVE_RATE_LIMITER",
						"type": "ratelimit",
						"namespace_id": "1003",
						"simple": { "limit": 5, "period": 60 }
					}
				]
			},
			"routes": [
				{
					"pattern": "your-domain.com",
					"custom_domain": true
				}
			],
			"workers_dev": false,
			"d1_databases": [
				{
					"binding": "DB",
					"database_name": "riverbank-db",
					"database_id": "YOUR_PRO_DATABASE_ID",
					"migrations_table": "_migrations",
					"migrations_dir": "migrations"
				}
			],
			"ai": {
				"binding": "AI"
			}
		}
	}
}
